%define name @PACKAGE_NAME@
%define version @PACKAGE_VERSION@
%define release 1

Summary: generate a non-linear SExtractor filter ("retina")
Name: %{name}
Version: %{version}
Release: %{release}
Source0: ftp://ftp.iap.fr/pub/from_users/bertin/%{name}/%{name}-%{version}.tar.gz
URL: http://terapix.iap.fr/soft/%{name}/
License: GPLv3+
Group: Sciences/Astronomy
BuildRoot: %{_tmppath}/%{name}-buildroot
BuildRequires: pkgconfig

%description
In EyE, a neural network connected to pixels of a moving window (retina)
from one or several input image(s) is trained to associate these "stimuli" to
the corresponding response in one or several output (model) image(s).
The resulting filter can then be loaded in SExtractor to operate complex,
wildly non-linear filters on astronomical images. Typical applications of EyE
include adaptive filtering, feature detection and cosmetic corrections.

%prep
%setup -q

%build
if test "$USE_ICC"; then
%configure --enable-icc
else
%configure
fi
make %{?_smp_mflags}

%install
rm -rf $RPM_BUILD_ROOT
make install DESTDIR=$RPM_BUILD_ROOT

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
%doc AUTHORS BUGS ChangeLog COPYING HISTORY INSTALL README THANKS doc/eye.pdf
%{_bindir}/@PACKAGE_NAME@
%{_mandir}/man1/@PACKAGE_NAME@.1*
%{_mandir}/manx/@PACKAGE_NAME@.x*

%changelog
* @DATE2@ @PACKAGER@ <@PACKAGE_BUGREPORT@>
- Automatic RPM rebuild

# end of file

